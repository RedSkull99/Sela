{% extends "master.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<section class="dashboard-section">
    <h2>Welcome to your Dashboard, {{ current_user.name }}!</h2>
    <div class="result-card" style="text-align: left;">

        <div style="text-align: center; margin-bottom: 2rem;">
            <img src="{{ url_for('static', filename='profile_pics/' + current_user.profile_pic) }}"
                alt="Profile Picture"
                style="width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 4px solid var(--primary);">
        </div>

        <p>You have successfully logged in.</p>
        <p>Your email: <strong>{{ current_user.email }}</strong></p>

        <div style="margin-top: 2rem; border-top: 1px solid #eee; padding-top: 2rem;">
            <h4 style="margin-bottom: 1rem;">Update Profile Picture</h4>
            <form action="{{ url_for('main.upload_profile_pic') }}" method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <input type="file" name="profile_pic" required>
                </div>
                <button type="submit" class="btn-primary" style="margin-top: 1rem;">Upload Picture</button>
            </form>
        </div>

        <div style="margin-top: 2rem; text-align: center;">
            <a href="{{ url_for('auth.logout') }}" class="btn-primary" style="background: var(--error);">Logout</a>
        </div>
    </div>
</section>
{% endblock %}